<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Сапер</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script type="text/x-template" class="template-user-tools">
    <div class="user-options">
        <button data-option="1" type="button">Сдаться</button>
    </div>
</script>

<script type="text/x-template" class="template-dev-tools">
    <div class="dev-options">
        <button data-option="1" type="button">Показать мины</button>
        <button data-option="2" type="button">Спрятать мины</button>
    </div>
    <div class="game-status-bar"></div>
</script>

<script type="text/x-template" class="template-popup">
    <div class="popup-header">{{header-text}}</div>
    <div class="popup-body">{{body-text}}</div>
    <div class="popup-options">
        <button class="cancel-option" data-option="close" type="button"></button>
    </div>
</script>

<script type="text/x-template" class="template-header">
    <div class="flags-counter">
        <span class="digit"></span>
        <span class="digit"></span>
        <span class="digit"></span>
    </div>
    <div class="timer-value">
        <span class="digit"></span>
        <span class="digit"></span>
        <span class="digit"></span>
    </div>
    <div class="face"></div>
</script>

<script src="../src/models/MinesweeperGame.js"></script>
<script src="../src/models/CellSet.js"></script>

<script src="../src/models/events/EventDispatcher.js"></script>
<script src="../src/models/events/SyntheticEvent.js"></script>
<script src="../src/models/events/GameEvent.js"></script>
<script src="../src/models/events/PopupEvent.js"></script>
<script src="../src/models/events/DomGameViewEvent.js"></script>

<script src="../src/views/ConsoleGameView.js"></script>
<script src="../src/views/DomGameView.js"></script>
<script src="../src/views/PopupView.js"></script>

<script src="../src/controllers/ConsoleGameController.js"></script>
<script src="../src/controllers/DomGameController.js"></script>

<script src="../src/utility/Util.js"></script>
<script>
try {
    var userSettings = {width: 13,  height: 13,  minesNumber: 10};
    var game         = new MinesweeperGame(userSettings);
    var domGameView1 = new DomGameView(game);
    //var domGameView2 = new DomGameView(game);
    //var domGameView3 = new DomGameView(game);
    var domGameController1 = new DomGameController(game, domGameView1);
    //var domGameController2    = new DomGameController(game, domGameView2);
    //var domGameController3    = new DomGameController(game, domGameView3);
    var consoleGameView       = new ConsoleGameView(game);
    var consoleGameController = new ConsoleGameController(game, consoleGameView);
    consoleGameController.show();
} catch(error) {
    console.log(error.name + ":" + error.message);
}
</script>
</body>
</html>